Программа состоит из двух модулей: main.cpp и parse.cpp.

При запуске программы вызывается функция main: она принимает на вход количество аргументов и аргументы вызова. После этого, функция обрабатывает аргументы и в случае ошибки заканчивает выполнение программы с соответствующим сообщением.
В случае успеха, вызывается функция parse, принимающая на вход аргумент булевый "from_file": true, если был указан аргумент --file и чтение будет производится из файла и false в противном случае.
Функция parse обрабатывает каждый токен из ввода по следующему принципу:
1. Пока есть токены:
    1.1 Получить следующий токен.
    1.2 Если токен:
        1.2.1 Число: добавить в массив значений.
        1.2.2 Левая скобка: добавить в массив операторов.
        1.2.3 Правая скобка:
            1.2.3.1 Пока последний элемент массива операторов не левая скобка:
                1.2.3.1.1 Взять оператор из массива операторов.
                1.2.3.1.2 Взять два элемента из массива значений, получив два операнда.
                1.2.3.1.3 Применить оператор к двум операндам в правильном порядке.
                1.2.3.1.4 Поместить результат в массив значений.
            1.2.3.2 Удалить левую скобку из массива операторов.
        1.2.4 Оператор:
            1.2.4.1 Пока массив операторов содержит элементы и верхняя вещь в массиве операторов имеет тот же или больший приоритет, что и текущий оператор,
                1.2.4.1.1 Взять оператор из массива операторов.
                1.2.4.1.2 Взять два элемента из массива значений, получив два операнда.
                1.2.4.1.3 Применить оператор к двум операндам в правильном порядке.
                1.2.4.1.4 Поместить результат в массив значений.
            1.2.4.2 Поместить оператор в массив операторов.
2. Пока массив операторов не пуст:
    2.1 Взять оператор из массива операторов.
    2.2 Взять два операнда из массива значений.
    2.3 Применить оператор к двум операндам в правильном порядке.
    2.4 Поместить результат в массив значений.
3. Массив операций пуст. Единственный операнд в массиве значений - значение выражения.
После выполнения всего алгоритма функция parse возвращает единственный элемент из массива значений, являющийся ответом, и функция main выводит его в консоль.